{% extends '../layout/layout.html' %}

{% block content %}
{% for error in errors %}
    {% if error.message %}
    <p class="callout alert">{{ error.message }}</p>
    {% endif %}
{% endfor %}
{% include './groups_header.html' with {
    group: data.group,
    isMember: data.isMember,
    isPending: data.isPending,
    membershipLimitReached: data.membershipLimitReached
  }
%}
<div class="horizontal_tabs">

  <!--  tabs  -->
  {% include '../partials/group_tabs.html' with { group: data.group } %}

  <!--  tabs-content  -->

  <div class="tabs-content">
    <div>
    {% if route.id === 'groups_main' %}

      <div class="nearby-wrapper">
        {% include '../partials/nearby_groups.html' with {
            currentGroup: data.group,
            groups: data.groups,
            noCoordinates: data.noCoordinates
          }
        %}
      </div>
      {% include '../partials/item_list.html'%}

    {% elseif route.id === 'groups_notices' %}

      {% include './notices.html' with { notices: data.notices, groupId: data.group.group_id } %}

    {% elseif route.id === 'groups_notices_detail' %}

      <div class="row group-notice-detail">
          {{ data.notice.description|default(data.notice.filename)}}
          {% if data.notice.mimetype === 'text/html' %}
            {{ data.notice.content|sanitizeHtml(true) }}
          {% else %}
            {{ data.notice.content|safe }}
          {% endif %}
      </div>

    {% elseif route.id === 'groups_info' %}

      <div class="row group-info">
        <div class="group-info-wrapper medium-8">
          {{ data.group.description|sanitizeHtml(true)|safe }}
        </div>
      </div>

    {% elseif route.id === 'groups_contact' %}

    {% endif %}

    {% include '../partials/in_body_banner_row.html'%}
    </div>
  </div>
</div>

{% endblock %}
