<div class="row">
  <h4 class="text-center page-sub-title">My Towns</h4>
  <div class="row text-center">
    Want to join another town? <a href="/find-towns">Find more here</a>
  </div>
</div>

<div class="row">
  <div class="item-list-header small-centered large-12 column">
    <div class="item-list-header-controls my-groups-header-controls">
        <label class="text-lighten item-list-header-controls-label">View: </label>
        <ul class="item-list-header-controls-list tabs" id="mygroups_detail" data-tabs>
            <li class="item-list-header-filter-icon item-list-grid-view tabs-title ">
                <a href="#mygroups_list">{% include '../icons/list.html' %} <span>List</span></a>
            </li>
            <li class="item-list-header-filter-icon item-list-list-view tabs-title is-active">
                  <a href="#mygroups_map">{% include '../icons/map_compass.html' %} <span>Map</span></a>
            </li>
        </ul>
    </div>
  </div>
</div>

<div class="row tabs-content small-centered large-12 column" data-tabs-content="mygroups_detail">
  <div id="mygroups_map" class="table-example row tabs-panel is-active">
    {% include "./geomap.html" with { geomap: data.geomap } %}
  </div>

  <div id="mygroups_list" class="table-example row tabs-panel">
    <table>
      <thead>
      <tr>
        <th>Local Town</th>
        <th>State</th>
        <th>Distance</th> <!-- TODO Call out units here? -->
      </tr>
      </thead>
      <tbody>
      {% for group in data.locatedGroups %}
        <tr>
          <td><h4><a href="/town/{{group.id}}">{{group.name}}</a></h4></td>
          <td>{{group.region.name}}</td>
          <!-- TODO This assumes unit is miles; update to work w/ km when used -->
          <td>{% if group.distance == 8000 %}N/A (no location info available){% else %}{{group.distance}}{% endif %}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
